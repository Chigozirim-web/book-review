(function(e){function t(t){for(var r,o,s=t[0],i=t[1],l=t[2],b=0,d=[];b<s.length;b++)o=s[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/book-review/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0666":function(e,t,n){},"071e":function(e,t,n){"use strict";n("f20f")},"13bf":function(e,t,n){"use strict";n("0666")},"1a89":function(e,t,n){"use strict";n("4849")},4849:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={id:"app",style:{"background-color":"rgb(250, 235, 215)"}};function c(e,t,n,c,o,s){var i=Object(r["x"])("Navbar"),l=Object(r["x"])("alert"),u=Object(r["x"])("router-view");return Object(r["s"])(),Object(r["f"])("div",a,[Object(r["i"])(i),Object(r["i"])(l,{error:c.err,success:c.succ},null,8,["error","success"]),Object(r["i"])(u)])}var o=n("5502"),s={class:"navbar navbar-expand-lg navbar-dark bg-dark"},i={class:"container"},l=Object(r["h"])(" Book Review App"),u={class:"collapse navbar-collapse",id:"navbarNav"},b={class:"navbar-nav ms-auto"},d={class:"nav-item mx-2"},j=Object(r["h"])("Home"),p={class:"nav-item"},g=Object(r["h"])("Dasboard "),O={class:"nav-item mx-2"},m=Object(r["h"])("Create New Review"),f={class:"nav-item mx-2"},v=Object(r["h"])("Login"),h={class:"nav-item"},w=Object(r["h"])("Sign Up"),y={class:"nav-item mx-2"};function k(e,t,n,a,c,o){var k=Object(r["x"])("router-link");return Object(r["s"])(),Object(r["f"])("nav",s,[Object(r["g"])("div",i,[Object(r["i"])(k,{class:"navbar-brand text-style",to:{name:"home"}},{default:Object(r["D"])((function(){return[l]})),_:1}),Object(r["g"])("div",u,[Object(r["g"])("ul",b,[Object(r["g"])("li",d,[Object(r["i"])(k,{class:"btn btn-primary","aria-current":"page",to:{name:"home"}},{default:Object(r["D"])((function(){return[j]})),_:1})]),Object(r["g"])("li",p,[o.isAuthenticated?(Object(r["s"])(),Object(r["d"])(k,{key:0,class:"btn btn-primary btn-light","aria-current":"page",to:{name:"Dashboard"}},{default:Object(r["D"])((function(){return[g]})),_:1})):Object(r["e"])("",!0)]),Object(r["g"])("li",O,[o.isAuthenticated?(Object(r["s"])(),Object(r["d"])(k,{key:0,class:"btn btn-success",to:{name:"create"}},{default:Object(r["D"])((function(){return[m]})),_:1})):Object(r["e"])("",!0)]),Object(r["g"])("li",f,[o.isAuthenticated?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["d"])(k,{key:0,class:"btn btn-secondary","aria-current":"page",to:{name:"login"}},{default:Object(r["D"])((function(){return[v]})),_:1}))]),Object(r["g"])("li",h,[o.isAuthenticated?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["d"])(k,{key:0,class:"btn btn-secondary","aria-current":"page",to:{name:"signup"}},{default:Object(r["D"])((function(){return[w]})),_:1}))]),Object(r["g"])("li",y,[o.isAuthenticated?(Object(r["s"])(),Object(r["f"])("a",{key:0,class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return o.handleClick&&o.handleClick.apply(o,arguments)})},"Logout")):Object(r["e"])("",!0)])])])])])}var R=n("852e"),x=n.n(R),C={computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{handleClick:function(){x.a.remove("vuex"),this.$store.state.jwt="",this.$store.state.user="",this.$router.push({name:"login"})}}},A=(n("13bf"),n("6b0d")),E=n.n(A);const D=E()(C,[["render",k]]);var U=D,_={key:0,class:"alert alert-warning alert-dismissible fade show",role:"alert"},B=Object(r["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),S={key:1,class:"alert alert-success alert-dismissible fade show",role:"alert"},$=Object(r["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1);function z(e,t,n,a,c,o){return Object(r["s"])(),Object(r["f"])("div",null,[n.error?(Object(r["s"])(),Object(r["f"])("div",_,[Object(r["g"])("strong",null,Object(r["z"])(n.error),1),B])):Object(r["e"])("",!0),n.success?(Object(r["s"])(),Object(r["f"])("div",S,[Object(r["g"])("strong",null,Object(r["z"])(n.success),1),$])):Object(r["e"])("",!0)])}var I={props:["error","success"]};const M=E()(I,[["render",z]]);var P=M,N={name:"App",components:{Navbar:U,alert:P},setup:function(){var e=Object(o["b"])(),t=Object(r["b"])((function(){return e.state.Errormsg})),n=Object(r["b"])((function(){return e.state.Successmsg}));return{err:t,succ:n}}};const V=E()(N,[["render",c]]);var L=V,F=(n("ab8b"),n("6c02")),J=Object(r["g"])("br",null,null,-1),T=Object(r["g"])("section",{style:{"text-align":"center"}},[Object(r["g"])("h2",{style:{"font-family":"Cursive"}}," Check out these awesome book reviews from fellow users! ")],-1),Y={class:"container overflow-hidden row gy-3 center"},H={class:"col-12 p-3 border bg-dark",style:{color:"rgb(250, 235, 215)"}},q=Object(r["h"])(" by: "),G=["onClick"];function K(e,t,n,a,c,o){return Object(r["s"])(),Object(r["f"])("div",null,[J,T,Object(r["g"])("div",Y,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(a.reviews,(function(e){return Object(r["s"])(),Object(r["f"])("div",{key:e.rid},[Object(r["g"])("div",H,[Object(r["g"])("h2",null,Object(r["z"])(e.book),1),q,Object(r["g"])("h3",null,Object(r["z"])(e.author),1),Object(r["g"])("button",{class:"btn btn-primary btn-dark follow",onClick:function(t){return o.go(e.rid)}}," See Book Review ",8,G)])])})),128))])])}var Q={setup:function(){var e=Object(o["b"])(),t=Object(r["b"])((function(){return e.state.reviews}));return e.dispatch("loadReviews"),{reviews:t}},methods:{go:function(e){var t=this;this.$store.dispatch("loadReview",{rid:parseInt(e)}).then((function(){t.$router.push({path:"/review/".concat(e)})}))}}};n("9fe5");const W=E()(Q,[["render",K]]);var X=W,Z={class:"mb-3"},ee=Object(r["g"])("label",{class:"form-label"},"Book Name ",-1),te={class:"mb-3"},ne=Object(r["g"])("label",{class:"form-label"},"Author of Book ",-1),re={class:"mb-3"},ae=Object(r["g"])("label",{class:"form-label"},"Your Review: ",-1),ce={class:"mb-3"},oe=Object(r["g"])("label",{class:"form-label"},"Any extra note? ",-1),se=Object(r["g"])("button",{type:"submit",class:"btn btn-primary btn-dark"},"Submit New review ",-1),ie=Object(r["g"])("br",null,null,-1);function le(e,t,n,a,c,o){return Object(r["s"])(),Object(r["f"])("div",null,[Object(r["g"])("form",{class:"page-border",onSubmit:t[4]||(t[4]=Object(r["F"])((function(){return o.submitReview&&o.submitReview.apply(o,arguments)}),["prevent"]))},[Object(r["g"])("div",Z,[ee,Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.book=e}),placeholder:"Input name of book"},null,512),[[r["B"],c.book]])]),Object(r["g"])("div",te,[ne,Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.author=e}),placeholder:"Author"},null,512),[[r["B"],c.author]])]),Object(r["g"])("div",re,[ae,Object(r["E"])(Object(r["g"])("input",{style:{height:"200px","font-size":"14pt"},type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.review=e}),placeholder:"Insert here"},null,512),[[r["B"],c.review]])]),Object(r["g"])("div",ce,[oe,Object(r["E"])(Object(r["g"])("input",{type:"text",style:{height:"200px","font-size":"14pt"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.note=e}),placeholder:"Insert here"},null,512),[[r["B"],c.note]])]),se],32),ie])}var ue={data:function(){return{book:"",author:"",review:"",note:""}},methods:{submitReview:function(){var e=this;this.$store.dispatch("submitNewReview",{book:this.book,author:this.author,review:this.review,note:this.note}).then((function(){return e.$router.push({name:"Dashboard"})})).catch((function(t){console.log("Error Creating new Review: ",t),e.$store.state.Errormsg=t,e.$router.push({name:"login"})}))}}};const be=E()(ue,[["render",le]]);var de=be,je=Object(r["g"])("h6",null," Already have an account? Login ",-1),pe=Object(r["h"])(" If not, sign up here "),ge=Object(r["h"])("Sign Up"),Oe={class:"mb-3"},me=Object(r["g"])("label",{for:"username",class:"form-label"},"Username ",-1),fe={class:"mb-3"},ve=Object(r["g"])("label",{for:"inputPassword3",class:"col-sm-1 col-form-label"},"Password ",-1),he=Object(r["g"])("button",{type:"submit",class:"btn btn-primary btn-dark"},"Log in",-1),we=Object(r["g"])("br",null,null,-1);function ye(e,t,n,a,c,o){var s=Object(r["x"])("router-link");return Object(r["s"])(),Object(r["f"])("section",null,[Object(r["g"])("form",{class:"page-border",onSubmit:t[2]||(t[2]=Object(r["F"])((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"]))},[je,Object(r["g"])("h5",null,[pe,Object(r["i"])(s,{class:"btn btn-dark btn-sm","aria-current":"page",to:{name:"signup"}},{default:Object(r["D"])((function(){return[ge]})),_:1})]),Object(r["g"])("div",Oe,[me,Object(r["E"])(Object(r["g"])("input",{type:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.username=e}),placeholder:"Input username"},null,512),[[r["B"],c.username]])]),Object(r["g"])("div",fe,[ve,Object(r["E"])(Object(r["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e}),placeholder:"Input password"},null,512),[[r["B"],c.password]])]),he],32),we])}var ke={data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;this.$store.dispatch("login",{username:this.username,password:this.password}).then((function(){return e.$router.push({name:"Dashboard"})}))}}};n("1a89");const Re=E()(ke,[["render",ye]]);var xe=Re,Ce=Object(r["g"])("h6",null," Don't have an account? Sign up ",-1),Ae=Object(r["h"])(" If not, login here "),Ee=Object(r["h"])("Login"),De={class:"mb-3"},Ue=Object(r["g"])("label",{for:"username",class:"form-label"},"Username ",-1),_e={class:"mb-3"},Be=Object(r["g"])("label",{class:"col-sm-1 col-form-label"},"Password ",-1),Se={class:"mb-3"},$e=Object(r["g"])("label",{for:"inputPassword2",class:"col-form-label"}," Confirm Password",-1),ze=Object(r["g"])("button",{type:"submit",class:"btn btn-primary btn-dark"},"Sign up",-1),Ie=Object(r["g"])("br",null,null,-1);function Me(e,t,n,a,c,o){var s=Object(r["x"])("router-link");return Object(r["s"])(),Object(r["f"])("div",null,[Object(r["g"])("form",{class:"page-border",onSubmit:t[3]||(t[3]=Object(r["F"])((function(){return o.register&&o.register.apply(o,arguments)}),["prevent"]))},[Ce,Object(r["g"])("h5",null,[Ae,Object(r["i"])(s,{class:"btn btn-dark btn-sm","aria-current":"page",to:{name:"login"}},{default:Object(r["D"])((function(){return[Ee]})),_:1})]),Object(r["g"])("div",De,[Ue,Object(r["E"])(Object(r["g"])("input",{type:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.username=e}),placeholder:"Input username"},null,512),[[r["B"],c.username]])]),Object(r["g"])("div",_e,[Be,Object(r["E"])(Object(r["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e}),id:"inputPassword3",placeholder:"Input password"},null,512),[[r["B"],c.password]])]),Object(r["g"])("div",Se,[$e,Object(r["E"])(Object(r["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password_confirm=e}),placeholder:"Confirm password"},null,512),[[r["B"],c.password_confirm]])]),ze],32),Ie])}var Pe={data:function(){return{username:"",password:"",password_confirm:""}},methods:{register:function(){var e=this;""===this.username||""===this.password||""===this.password_confirm?alert("Please fill out all the fields"):this.$store.dispatch("signUp",{username:this.username,password:this.password,password_confirm:this.password_confirm}).then((function(){return e.$router.push({name:"login"})})).catch((function(t){console.log("Error Registering: ",t),e.$store.state.Errormsg=t}))}}};const Ne=E()(Pe,[["render",Me]]);var Ve=Ne,Le=Object(r["g"])("br",null,null,-1),Fe={style:{"text-align":"center"}},Je=Object(r["g"])("label",null,[Object(r["g"])("h3",{style:{"font-family":"Cursive"}}," Book: ")],-1),Te={class:"text-style"},Ye=Object(r["g"])("label",null,[Object(r["g"])("h3",{style:{"font-family":"Cursive"}}," Author: ")],-1),He={class:"text-style"},qe={class:"row"},Ge=Object(r["g"])("label",null,[Object(r["g"])("h3",{style:{"font-family":"Cursive"}}," Review: ")],-1),Ke={class:"col 12 text-style",id:"box"},Qe={class:"row"},We=Object(r["g"])("label",null,[Object(r["g"])("h3",{style:{"font-family":"Cursive"}}," Note: ")],-1),Xe={class:"col 12 text-style",id:"box"},Ze=Object(r["h"])(" Created by: "),et=Object(r["h"])(" Created at: ");function tt(e,t,n,a,c,o){return Object(r["s"])(),Object(r["f"])("div",null,[Le,Object(r["g"])("section",Fe,[Object(r["g"])("div",null,[Je,Object(r["g"])("p",Te,Object(r["z"])(a.rev.review.book),1),Ye,Object(r["g"])("p",He,Object(r["z"])(a.rev.review.author),1)]),Object(r["g"])("div",qe,[Ge,Object(r["g"])("div",Ke,Object(r["z"])(a.rev.review.review),1)]),Object(r["g"])("div",Qe,[We,Object(r["g"])("div",Xe,Object(r["z"])(a.rev.review.note),1)]),Object(r["g"])("div",null,[Object(r["g"])("p",null,[Ze,Object(r["g"])("b",null,Object(r["z"])(a.rev.creator),1)]),Object(r["g"])("p",null,[et,Object(r["g"])("i",null,Object(r["z"])(a.rev.review.created_at),1)])])])])}var nt={setup:function(){var e=Object(o["b"])(),t=Object(r["b"])((function(){return e.getters.getCurrentReview}));return{rev:t}}};n("071e");const rt=E()(nt,[["render",tt]]);var at=rt,ct=Object(r["g"])("br",null,null,-1),ot=Object(r["g"])("section",{style:{"text-align":"center"}},[Object(r["g"])("h2",{style:{"font-family":"Cursive"}}," Your created Book Reviews! ")],-1),st=Object(r["g"])("br",null,null,-1),it=Object(r["h"])(),lt=Object(r["g"])("br",null,null,-1),ut={key:0,class:"card"},bt={class:"card-body fun"},dt=Object(r["g"])("p",null,[Object(r["g"])("strong",null," You have not added any reviews yet ")],-1),jt=Object(r["h"])("Create a new Review now"),pt={key:1},gt={class:"table table-hover"},Ot=Object(r["g"])("thead",null,[Object(r["g"])("tr",null,[Object(r["g"])("th",{scope:"col"},"Book Title "),Object(r["g"])("th",{scope:"col"},"Author "),Object(r["g"])("th",{scope:"col"},"Created At "),Object(r["g"])("th"),Object(r["g"])("th")])],-1),mt=["onClick"],ft=["onClick"],vt={class:"modal fade",id:"updateModal",tabindex:"-1","aria-labelledby":"updateModalLabel","aria-hidden":"true"},ht={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},wt={class:"modal-content"},yt=Object(r["g"])("div",{class:"modal-header"},[Object(r["g"])("h5",{class:"modal-title",id:"updateModalLabel"},"Update Review"),Object(r["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),kt={class:"modal-body"},Rt={class:"mb-3"},xt=Object(r["g"])("label",{class:"form-label"},"Book Name ",-1),Ct={class:"mb-3"},At={class:"form-label"},Et={class:"mb-3"},Dt=Object(r["g"])("label",{class:"form-label"},"Your Review: ",-1),Ut={class:"mb-3"},_t=Object(r["g"])("label",{class:"form-label"},"Any extra note? ",-1),Bt=Object(r["g"])("div",{class:"modal-footer"},[Object(r["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),Object(r["g"])("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"},"Submit Update")],-1),St={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},$t={class:"modal-dialog"},zt={class:"modal-content"},It=Object(r["g"])("div",{class:"modal-header"},[Object(r["g"])("h5",{class:"modal-title",id:"deleteModalLabel"},"Delete Review"),Object(r["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Mt=Object(r["g"])("div",{class:"modal-body"},[Object(r["g"])("p",null,[Object(r["g"])("strong",null," Are you sure you want to delete this review? ")])],-1),Pt={class:"modal-footer"},Nt=Object(r["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1);function Vt(e,t,n,a,c,o){var s=Object(r["x"])("router-link");return Object(r["s"])(),Object(r["f"])("div",null,[ct,ot,st,it,lt,o.isEmpty(a.reviews)?(Object(r["s"])(),Object(r["f"])("div",ut,[Object(r["g"])("div",bt,[dt,Object(r["g"])("p",null,[Object(r["i"])(s,{class:"btn btn-success",to:"/create"},{default:Object(r["D"])((function(){return[jt]})),_:1})])])])):Object(r["e"])("",!0),o.isEmpty(a.reviews)?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["f"])("div",pt,[Object(r["g"])("table",gt,[Ot,Object(r["g"])("tbody",null,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(a.reviews,(function(e){return Object(r["s"])(),Object(r["f"])("tr",{key:e.rid},[Object(r["g"])("td",null,Object(r["z"])(e.book),1),Object(r["g"])("td",null,Object(r["z"])(e.author),1),Object(r["g"])("td",null,Object(r["z"])(e.created_at),1),Object(r["g"])("td",null,[Object(r["g"])("button",{type:"button",class:"btn btn-warning btn-sm","data-bs-toggle":"modal","data-bs-target":"#updateModal",onClick:function(t){return o.editForm(e)}}," Update ",8,mt)]),Object(r["g"])("td",null,[Object(r["g"])("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#deleteModal",onClick:function(t){return o.saveForDelete(e.rid)}}," Delete ",8,ft)])])})),128))])]),Object(r["g"])("div",vt,[Object(r["g"])("div",ht,[Object(r["g"])("div",wt,[yt,Object(r["g"])("div",kt,[Object(r["g"])("form",{class:"page-border",onSubmit:t[4]||(t[4]=Object(r["F"])((function(){return o.updateReview&&o.updateReview.apply(o,arguments)}),["prevent"]))},[Object(r["g"])("div",Rt,[xt,Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.book=e}),placeholder:"Input name of book"},null,512),[[r["B"],c.book]])]),Object(r["g"])("div",Ct,[Object(r["g"])("label",At,"Author of Book "+Object(r["z"])(c.review.author),1),Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.author=e}),placeholder:"Author"},null,512),[[r["B"],c.author]])]),Object(r["g"])("div",Et,[Dt,Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.review=e}),placeholder:"Insert here"},null,512),[[r["B"],c.review]])]),Object(r["g"])("div",Ut,[_t,Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.note=e}),placeholder:"Insert here"},null,512),[[r["B"],c.note]])]),Bt],32)])])])]),Object(r["g"])("div",St,[Object(r["g"])("div",$t,[Object(r["g"])("div",zt,[It,Mt,Object(r["g"])("div",Pt,[Object(r["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=function(){return o.deleteReview&&o.deleteReview.apply(o,arguments)}),"data-bs-dismiss":"modal"},"Yes"),Nt])])])])]))])}var Lt={data:function(){return{id:"",book:"",author:"",review:"",note:""}},setup:function(){var e=Object(o["b"])(),t=Object(r["b"])((function(){return e.state.reviews}));return Object(r["p"])((function(){e.dispatch("see_dashboard")})),{reviews:t}},methods:{isEmpty:function(e){return 0==e.length},editForm:function(e){this.id=e.rid,this.book=e.book,this.author=e.author,this.review=e.review,this.note=e.note},updateReview:function(){var e=this;this.$store.dispatch("putReview",{rid:this.id,book:this.book,author:this.author,review:this.review,note:this.note}).then((function(){return e.$store.dispatch("see_dashboard")})).catch((function(t){console.log("Error Updating Review: ",t),e.$store.state.Errormsg=t}))},saveForDelete:function(e){this.id=e,console.log("To delete: ",this.id)},deleteReview:function(){var e=this;this.$store.dispatch("removeReview",{rid:parseInt(this.id)}).then((function(){return e.$store.dispatch("see_dashboard")})).catch((function(t){console.log("Error Deleting Review: ",t),e.$store.state.Errormsg=t}))}}};n("cb1a");const Ft=E()(Lt,[["render",Vt]]);var Jt=Ft,Tt=n("1da1"),Yt=(n("96cf"),n("0e44")),Ht=(n("99af"),n("bc3a")),qt=n.n(Ht),Gt="https://book-review-backend0.herokuapp.com";function Kt(){return qt.a.get("".concat(Gt,"/"))}function Qt(e){return qt.a.get("".concat(Gt,"/review/").concat(e))}function Wt(e,t){return qt.a.post("".concat(Gt,"/add/"),e,{headers:{Authorization:"Bearer: ".concat(t)}})}function Xt(e,t){return qt.a.put("".concat(Gt,"/update/").concat(e.rid,"/"),e,{headers:{Authorization:"Bearer: ".concat(t)}})}function Zt(e,t){return qt.a.delete("".concat(Gt,"/delete/").concat(e,"/"),{headers:{Authorization:"Bearer: ".concat(t)}})}function en(e){return qt.a.get("".concat(Gt,"/dashboard/"),{headers:{Authorization:"Bearer: ".concat(e)}})}function tn(e){return qt.a.post("".concat(Gt,"/sign-up/"),e)}function nn(e){return qt.a.post("".concat(Gt,"/login/"),e)}console.log("API_URL: ","".concat(Gt)),console.log("Just checking..: ","https://book-review-backend0.herokuapp.com");n("ac1f"),n("1276");function rn(e){if(!e||e.split(".").length<3)return!1;var t=JSON.parse(atob(e.split(".")[1])),n=new Date(1e3*t.exp),r=new Date;return r<n}var an={reviews:[],currentReview:[],user:"",jwt:"",Errormsg:"",Successmsg:""},cn={loadReviews:function(e){return Object(Tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Kt();case 2:return n=t.sent,t.abrupt("return",e.commit("setReviews",{reviews:n.data}));case 4:case"end":return t.stop()}}),t)})))()},loadReview:function(e,t){return Object(Tt["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.rid,n.next=3,Qt(r);case 3:return a=n.sent,n.abrupt("return",e.commit("setReview",{review:a.data}));case 5:case"end":return n.stop()}}),n)})))()},putReview:function(e,t){return e.commit("setReview",{review:t}),Xt(t,e.state.jwt.token)},submitNewReview:function(e,t){return Object(Tt["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Wt(t,e.state.jwt.token);case 2:r="New Review Added!",e.commit("successMessage",{msg:r});case 4:case"end":return n.stop()}}),n)})))()},removeReview:function(e,t){var n=t.rid;return Zt(n,e.state.jwt.token)},see_dashboard:function(e){return Object(Tt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,en(e.state.jwt.token);case 2:return n=t.sent,t.abrupt("return",e.commit("setReviews",{reviews:n.data}));case 4:case"end":return t.stop()}}),t)})))()},login:function(e,t){return Object(Tt["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit("setUserData",{userData:t}),n.prev=1,n.next=4,nn(t);case 4:return r=n.sent,a="You are now logged in!",e.commit("successMessage",{msg:a}),n.abrupt("return",e.commit("setJwtToken",{jwt:r.data}));case 10:n.prev=10,n.t0=n["catch"](1),console.log("Error Authenticating: ",n.t0),e.commit("errorMessage",{error:n.t0});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()},signUp:function(e,t){return Object(Tt["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit("setUserData",{userData:t}),n.next=3,tn(t);case 3:return r="Successful Registeration!",n.abrupt("return",e.commit("successMessage",{msg:r}));case 5:case"end":return n.stop()}}),n)})))()}},on={setReviews:function(e,t){e.reviews=t.reviews},setReview:function(e,t){e.currentReview=t.review},setUserData:function(e,t){e.user=t.userData.username},setJwtToken:function(e,t){e.jwt=t.jwt},errorMessage:function(e,t){e.Errormsg=t.error},successMessage:function(e,t){e.Successmsg=t.msg}},sn={isAuthenticated:function(e){return rn(e.jwt.token)},getUser:function(e){return e.user},getCurrentReview:function(e){return e.currentReview}},ln=Object(Yt["a"])({paths:["jwt","user"],storage:{getItem:function(e){return x.a.get(e)},setItem:function(e,t){return x.a.set(e,t,{secure:!0})},removeItem:function(e){return x.a.remove(e)}}}),un=Object(o["a"])({state:an,getters:sn,actions:cn,mutations:on,plugins:[ln]}),bn=[{path:"/",name:"home",component:X},{path:"/create",name:"create",component:de,beforeEnter:function(e,t,n){un.getters.isAuthenticated?n():n("/login")}},{path:"/login",name:"login",component:xe},{path:"/sign-up",name:"signup",component:Ve},{path:"/review/:id",name:"Review",component:at},{path:"/dashboard",name:"Dashboard",component:Jt,beforeEnter:function(e,t,n){un.getters.isAuthenticated?n():n({name:"login"})}}],dn="/book-review/";console.log("Base uri is: ",dn);var jn=Object(F["a"])({history:Object(F["b"])(dn),routes:bn}),pn=jn,gn=Object(r["c"])(L);gn.use(pn),gn.use(un),gn.mount("#app")},"9fe5":function(e,t,n){"use strict";n("be40")},b343:function(e,t,n){},be40:function(e,t,n){},cb1a:function(e,t,n){"use strict";n("b343")},f20f:function(e,t,n){}});
//# sourceMappingURL=app.91775862.js.map