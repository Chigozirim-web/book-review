(function(e){function t(t){for(var n,o,s=t[0],i=t[1],l=t[2],b=0,d=[];b<s.length;b++)o=s[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,s=1;s<r.length;s++){var i=r[s];0!==a[i]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/book-review/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"071e":function(e,t,r){"use strict";r("f20f")},"19f2":function(e,t,r){"use strict";r("54dd")},"1a89":function(e,t,r){"use strict";r("4849")},4849:function(e,t,r){},"54dd":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a={id:"app"};function c(e,t,r,c,o,s){var i=Object(n["x"])("Navbar"),l=Object(n["x"])("alert"),u=Object(n["x"])("router-view");return Object(n["s"])(),Object(n["f"])("div",a,[Object(n["i"])(i),Object(n["i"])(l,{error:c.err,success:c.succ},null,8,["error","success"]),Object(n["i"])(u)])}var o=r("5502"),s={class:"navbar navbar-expand-lg navbar-dark bg-dark"},i={class:"container-fluid"},l=Object(n["h"])(" Book-Review! "),u=Object(n["g"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(n["g"])("span",{class:"navbar-toggler-icon"})],-1),b={class:"collapse navbar-collapse my-2",id:"navbarSupportedContent"},d={class:"navbar-nav me-auto mb-2 mb-lg-0"},j={class:"nav-item mx-4"},O=Object(n["h"])(" Home"),g={class:"nav-item mx-4"},p=Object(n["h"])("Dashboard "),m={class:"nav-item mx-4"},f=Object(n["h"])("Create New Review"),v={class:"nav-item mx-4"},h=Object(n["h"])("Login"),w={class:"nav-item mx-4"},y=Object(n["h"])("Sign Up"),k={class:"nav-item mx-4"};function x(e,t,r,a,c,o){var x=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["f"])("nav",s,[Object(n["g"])("div",i,[Object(n["i"])(x,{class:"navbar-brand text-style",to:{name:"home"},"aria-current":"page"},{default:Object(n["D"])((function(){return[l]})),_:1}),u,Object(n["g"])("div",b,[Object(n["g"])("ul",d,[Object(n["g"])("li",j,[Object(n["i"])(x,{class:"nav-link active","aria-current":"page",to:{name:"home"}},{default:Object(n["D"])((function(){return[O]})),_:1})]),Object(n["g"])("li",g,[o.isAuthenticated?(Object(n["s"])(),Object(n["d"])(x,{key:0,class:"nav-link","aria-current":"page",to:{name:"Dashboard"}},{default:Object(n["D"])((function(){return[p]})),_:1})):Object(n["e"])("",!0)]),Object(n["g"])("li",m,[o.isAuthenticated?(Object(n["s"])(),Object(n["d"])(x,{key:0,class:"nav-link",to:{name:"create"}},{default:Object(n["D"])((function(){return[f]})),_:1})):Object(n["e"])("",!0)]),Object(n["g"])("li",v,[o.isAuthenticated?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["d"])(x,{key:0,class:"nav-link","aria-current":"page",to:{name:"login"}},{default:Object(n["D"])((function(){return[h]})),_:1}))]),Object(n["g"])("li",w,[o.isAuthenticated?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["d"])(x,{key:0,class:"nav-link","aria-current":"page",to:{name:"signup"}},{default:Object(n["D"])((function(){return[y]})),_:1}))]),Object(n["g"])("li",k,[o.isAuthenticated?(Object(n["s"])(),Object(n["f"])("a",{key:0,class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return o.handleClick&&o.handleClick.apply(o,arguments)})},"Logout")):Object(n["e"])("",!0)])])])])])}var R=r("852e"),C=r.n(R),E={computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{handleClick:function(){C.a.remove("vuex"),this.$store.state.jwt="",this.$store.state.user="",this.$router.push({name:"login"})}}},D=(r("19f2"),r("6b0d")),_=r.n(D);const A=_()(E,[["render",x]]);var U=A,B={key:0,class:"alert alert-warning alert-dismissible fade show",role:"alert"},S=Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),$={key:1,class:"alert alert-success alert-dismissible fade show",role:"alert"},z=Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1);function M(e,t,r,a,c,o){return Object(n["s"])(),Object(n["f"])("div",null,[r.error?(Object(n["s"])(),Object(n["f"])("div",B,[Object(n["g"])("strong",null,Object(n["z"])(r.error),1),S])):Object(n["e"])("",!0),r.success?(Object(n["s"])(),Object(n["f"])("div",$,[Object(n["g"])("strong",null,Object(n["z"])(r.success),1),z])):Object(n["e"])("",!0)])}var I={props:["error","success"]};const P=_()(I,[["render",M]]);var V=P,N={name:"App",components:{Navbar:U,alert:V},setup:function(){var e=Object(o["b"])(),t=Object(n["b"])((function(){return e.state.Errormsg})),r=Object(n["b"])((function(){return e.state.Successmsg}));return{err:t,succ:r}}};const F=_()(N,[["render",c]]);var T=F,L=(r("ab8b"),r("6c02")),Y=Object(n["g"])("br",null,null,-1),J={key:0,class:"card text-center",style:{margin:"130px","background-color":"rgb(71, 68, 65)",width:"80%"}},H=Object(n["g"])("div",{class:"card-header"},[Object(n["g"])("span",{style:{"font-size":"40px",color:"brown","font-family":"Verdana"}}," No Reviews have been created yet ðŸ˜”")],-1),q=Object(n["g"])("div",{class:"card-body"},[Object(n["g"])("h4",null,[Object(n["g"])("p",{class:"card-text follow"}," Submit great book reviews now for others to see! ")])],-1),G={class:"card-footer text-muted"},K={class:"row justify-content-center"},Q={class:"col-4"},W=Object(n["h"])("Login"),X={class:"col-4"},Z=Object(n["h"])("Sign Up"),ee={key:1,style:{"text-align":"center"}},te=Object(n["g"])("h2",{style:{"font-family":"Cursive"}}," Check out these awesome book reviews from fellow users! ",-1),re=[te],ne={key:2,class:"container overflow-hidden row gy-3 center"},ae={class:"col-12 p-3 border bg-dark",style:{color:"rgb(250, 235, 215)"}},ce=Object(n["h"])(" by: "),oe=["onClick"];function se(e,t,r,a,c,o){var s=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["f"])("div",null,[Y,o.isEmpty(a.reviews)?(Object(n["s"])(),Object(n["f"])("div",J,[H,q,Object(n["g"])("div",G,[Object(n["g"])("div",K,[Object(n["g"])("div",Q,[Object(n["i"])(s,{class:"btn btn-secondary",to:{name:"login"}},{default:Object(n["D"])((function(){return[W]})),_:1})]),Object(n["g"])("div",X,[Object(n["i"])(s,{class:"btn btn-secondary",to:{name:"signup"}},{default:Object(n["D"])((function(){return[Z]})),_:1})])])])])):Object(n["e"])("",!0),o.isEmpty(a.reviews)?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["f"])("section",ee,re)),o.isEmpty(a.reviews)?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["f"])("div",ne,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["w"])(a.reviews,(function(e){return Object(n["s"])(),Object(n["f"])("div",{key:e.rid},[Object(n["g"])("div",ae,[Object(n["g"])("h2",null,Object(n["z"])(e.book),1),ce,Object(n["g"])("h3",null,Object(n["z"])(e.author),1),Object(n["g"])("button",{class:"btn btn-primary btn-dark follow",onClick:function(t){return o.go(e.rid)}}," See Book Review ",8,oe)])])})),128))]))])}var ie={setup:function(){var e=Object(o["b"])(),t=Object(n["b"])((function(){return e.state.reviews}));return e.dispatch("loadReviews"),{reviews:t}},methods:{isEmpty:function(e){return 0==e.length},go:function(e){var t=this;this.$store.dispatch("loadReview",{rid:parseInt(e)}).then((function(){t.$router.push({path:"/review/".concat(e)})}))}}};r("b495");const le=_()(ie,[["render",se]]);var ue=le,be={class:"mb-3"},de=Object(n["g"])("label",{class:"form-label"},"Book Name ",-1),je={class:"mb-3"},Oe=Object(n["g"])("label",{class:"form-label"},"Author of Book ",-1),ge={class:"mb-3"},pe=Object(n["g"])("label",{class:"form-label"},"Your Review: ",-1),me={class:"mb-3"},fe=Object(n["g"])("label",{class:"form-label"},"Any extra note? ",-1),ve=Object(n["g"])("button",{type:"submit",class:"btn btn-primary btn-dark"},"Submit New review ",-1),he=Object(n["g"])("br",null,null,-1);function we(e,t,r,a,c,o){return Object(n["s"])(),Object(n["f"])("div",null,[Object(n["g"])("form",{class:"page-border",onSubmit:t[4]||(t[4]=Object(n["F"])((function(){return o.submitReview&&o.submitReview.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",be,[de,Object(n["E"])(Object(n["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.book=e}),placeholder:"Input name of book"},null,512),[[n["B"],c.book]])]),Object(n["g"])("div",je,[Oe,Object(n["E"])(Object(n["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.author=e}),placeholder:"Author"},null,512),[[n["B"],c.author]])]),Object(n["g"])("div",ge,[pe,Object(n["E"])(Object(n["g"])("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"5","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.review=e}),placeholder:"Insert here"},null,512),[[n["B"],c.review]])]),Object(n["g"])("div",me,[fe,Object(n["E"])(Object(n["g"])("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"4","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.note=e}),placeholder:"Insert here"},null,512),[[n["B"],c.note]])]),ve],32),he])}var ye={data:function(){return{book:"",author:"",review:"",note:""}},methods:{submitReview:function(){var e=this;this.$store.dispatch("submitNewReview",{book:this.book,author:this.author,review:this.review,note:this.note}).then((function(){return e.$router.push({name:"Dashboard"})})).catch((function(t){console.log("Error Creating new Review: ",t),e.$store.state.Errormsg=t,e.$router.push({name:"login"})}))}}};const ke=_()(ye,[["render",we]]);var xe=ke,Re=Object(n["g"])("h6",null," Already have an account? Login ",-1),Ce=Object(n["h"])(" If not, sign up here "),Ee=Object(n["h"])("Sign Up"),De={class:"mb-3"},_e=Object(n["g"])("label",{for:"username",class:"form-label"},"Username ",-1),Ae={class:"mb-3"},Ue=Object(n["g"])("label",{for:"inputPassword3",class:"col-sm-1 col-form-label"},"Password ",-1),Be=Object(n["g"])("button",{type:"submit",class:"btn btn-primary btn-dark"},"Log in",-1),Se=Object(n["g"])("br",null,null,-1);function $e(e,t,r,a,c,o){var s=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["f"])("section",null,[Object(n["g"])("form",{class:"page-border",onSubmit:t[2]||(t[2]=Object(n["F"])((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"]))},[Re,Object(n["g"])("h5",null,[Ce,Object(n["i"])(s,{class:"btn btn-dark btn-sm","aria-current":"page",to:{name:"signup"}},{default:Object(n["D"])((function(){return[Ee]})),_:1})]),Object(n["g"])("div",De,[_e,Object(n["E"])(Object(n["g"])("input",{type:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.username=e}),placeholder:"Input username"},null,512),[[n["B"],c.username]])]),Object(n["g"])("div",Ae,[Ue,Object(n["E"])(Object(n["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e}),placeholder:"Input password"},null,512),[[n["B"],c.password]])]),Be],32),Se])}var ze={data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;this.$store.dispatch("login",{username:this.username,password:this.password}).then((function(){return e.$router.push({name:"Dashboard"})}))}}};r("1a89");const Me=_()(ze,[["render",$e]]);var Ie=Me,Pe=Object(n["g"])("h6",null," Don't have an account? Sign up ",-1),Ve=Object(n["h"])(" If not, login here "),Ne=Object(n["h"])("Login"),Fe={class:"mb-3"},Te=Object(n["g"])("label",{for:"username",class:"form-label"},"Username ",-1),Le={class:"mb-3"},Ye=Object(n["g"])("label",{class:"col-sm-1 col-form-label"},"Password ",-1),Je={class:"mb-3"},He=Object(n["g"])("label",{for:"inputPassword2",class:"col-form-label"}," Confirm Password",-1),qe=Object(n["g"])("button",{type:"submit",class:"btn btn-primary btn-dark"},"Sign up",-1),Ge=Object(n["g"])("br",null,null,-1);function Ke(e,t,r,a,c,o){var s=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["f"])("div",null,[Object(n["g"])("form",{class:"page-border",onSubmit:t[3]||(t[3]=Object(n["F"])((function(){return o.register&&o.register.apply(o,arguments)}),["prevent"]))},[Pe,Object(n["g"])("h5",null,[Ve,Object(n["i"])(s,{class:"btn btn-dark btn-sm","aria-current":"page",to:{name:"login"}},{default:Object(n["D"])((function(){return[Ne]})),_:1})]),Object(n["g"])("div",Fe,[Te,Object(n["E"])(Object(n["g"])("input",{type:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.username=e}),placeholder:"Input username"},null,512),[[n["B"],c.username]])]),Object(n["g"])("div",Le,[Ye,Object(n["E"])(Object(n["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e}),id:"inputPassword3",placeholder:"Input password"},null,512),[[n["B"],c.password]])]),Object(n["g"])("div",Je,[He,Object(n["E"])(Object(n["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password_confirm=e}),placeholder:"Confirm password"},null,512),[[n["B"],c.password_confirm]])]),qe],32),Ge])}var Qe={data:function(){return{username:"",password:"",password_confirm:""}},methods:{register:function(){var e=this;""===this.username||""===this.password||""===this.password_confirm?alert("Please fill out all the fields"):this.$store.dispatch("signUp",{username:this.username,password:this.password,password_confirm:this.password_confirm}).then((function(){return e.$router.push({name:"login"})})).catch((function(t){console.log("Error Registering: ",t),e.$store.state.Errormsg=t}))}}};const We=_()(Qe,[["render",Ke]]);var Xe=We,Ze=Object(n["g"])("br",null,null,-1),et={style:{"text-align":"center"}},tt=Object(n["g"])("label",null,[Object(n["g"])("h3",{style:{"font-family":"Cursive"}}," Book: ")],-1),rt={class:"text-style"},nt=Object(n["g"])("label",null,[Object(n["g"])("h3",{style:{"font-family":"Cursive"}}," Author: ")],-1),at={class:"text-style"},ct={class:"row"},ot=Object(n["g"])("label",null,[Object(n["g"])("h3",{style:{"font-family":"Cursive"}}," Review: ")],-1),st={class:"col 12 text-style",id:"box"},it={class:"row"},lt=Object(n["g"])("label",null,[Object(n["g"])("h3",{style:{"font-family":"Cursive"}}," Note: ")],-1),ut={class:"col 12 text-style",id:"box"},bt=Object(n["h"])(" Created by: "),dt=Object(n["h"])(" Created at: ");function jt(e,t,r,a,c,o){return Object(n["s"])(),Object(n["f"])("div",null,[Ze,Object(n["g"])("section",et,[Object(n["g"])("div",null,[tt,Object(n["g"])("p",rt,Object(n["z"])(a.rev.review.book),1),nt,Object(n["g"])("p",at,Object(n["z"])(a.rev.review.author),1)]),Object(n["g"])("div",ct,[ot,Object(n["g"])("div",st,Object(n["z"])(a.rev.review.review),1)]),Object(n["g"])("div",it,[lt,Object(n["g"])("div",ut,Object(n["z"])(a.rev.review.note),1)]),Object(n["g"])("div",null,[Object(n["g"])("p",null,[bt,Object(n["g"])("b",null,Object(n["z"])(a.rev.creator),1)]),Object(n["g"])("p",null,[dt,Object(n["g"])("i",null,Object(n["z"])(a.rev.review.created_at),1)])])])])}var Ot={setup:function(){var e=Object(o["b"])(),t=Object(n["b"])((function(){return e.getters.getCurrentReview}));return{rev:t}}};r("071e");const gt=_()(Ot,[["render",jt]]);var pt=gt,mt=Object(n["g"])("br",null,null,-1),ft=Object(n["g"])("section",{style:{"text-align":"center"}},[Object(n["g"])("h2",{style:{"font-family":"Cursive"}}," Your created Book Reviews! ")],-1),vt=Object(n["g"])("br",null,null,-1),ht=Object(n["h"])(),wt=Object(n["g"])("br",null,null,-1),yt={key:0,class:"card"},kt={class:"card-body fun"},xt=Object(n["g"])("p",null,[Object(n["g"])("strong",null," You have not added any reviews yet ")],-1),Rt=Object(n["h"])("Create a new Review now"),Ct={key:1},Et={class:"table table-hover"},Dt=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",{scope:"col"},"Book Title "),Object(n["g"])("th",{scope:"col"},"Author "),Object(n["g"])("th",{scope:"col"},"Created At "),Object(n["g"])("th"),Object(n["g"])("th")])],-1),_t=["onClick"],At=["onClick"],Ut={class:"modal fade",id:"updateModal",tabindex:"-1","aria-labelledby":"updateModalLabel","aria-hidden":"true"},Bt={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},St={class:"modal-content"},$t=Object(n["g"])("div",{class:"modal-header"},[Object(n["g"])("h5",{class:"modal-title",id:"updateModalLabel"},"Update Review"),Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),zt={class:"modal-body"},Mt={class:"mb-3"},It=Object(n["g"])("label",{class:"form-label"},"Book Name ",-1),Pt={class:"mb-3"},Vt={class:"form-label"},Nt={class:"mb-3"},Ft=Object(n["g"])("label",{class:"form-label"},"Your Review: ",-1),Tt={class:"mb-3"},Lt=Object(n["g"])("label",{class:"form-label"},"Any extra note? ",-1),Yt=Object(n["g"])("div",{class:"modal-footer"},[Object(n["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),Object(n["g"])("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"},"Submit Update")],-1),Jt={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},Ht={class:"modal-dialog"},qt={class:"modal-content"},Gt=Object(n["g"])("div",{class:"modal-header"},[Object(n["g"])("h5",{class:"modal-title",id:"deleteModalLabel"},"Delete Review"),Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Kt=Object(n["g"])("div",{class:"modal-body"},[Object(n["g"])("p",null,[Object(n["g"])("strong",null," Are you sure you want to delete this review? ")])],-1),Qt={class:"modal-footer"},Wt=Object(n["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1);function Xt(e,t,r,a,c,o){var s=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["f"])("div",null,[mt,ft,vt,ht,wt,o.isEmpty(a.reviews)?(Object(n["s"])(),Object(n["f"])("div",yt,[Object(n["g"])("div",kt,[xt,Object(n["g"])("p",null,[Object(n["i"])(s,{class:"btn btn-success",to:"/create"},{default:Object(n["D"])((function(){return[Rt]})),_:1})])])])):Object(n["e"])("",!0),o.isEmpty(a.reviews)?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["f"])("div",Ct,[Object(n["g"])("table",Et,[Dt,Object(n["g"])("tbody",null,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["w"])(a.reviews,(function(e){return Object(n["s"])(),Object(n["f"])("tr",{key:e.rid},[Object(n["g"])("td",null,Object(n["z"])(e.book),1),Object(n["g"])("td",null,Object(n["z"])(e.author),1),Object(n["g"])("td",null,Object(n["z"])(e.created_at),1),Object(n["g"])("td",null,[Object(n["g"])("button",{type:"button",class:"btn btn-warning btn-sm","data-bs-toggle":"modal","data-bs-target":"#updateModal",onClick:function(t){return o.editForm(e)}}," Update ",8,_t)]),Object(n["g"])("td",null,[Object(n["g"])("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#deleteModal",onClick:function(t){return o.saveForDelete(e.rid)}}," Delete ",8,At)])])})),128))])]),Object(n["g"])("div",Ut,[Object(n["g"])("div",Bt,[Object(n["g"])("div",St,[$t,Object(n["g"])("div",zt,[Object(n["g"])("form",{class:"page-border",onSubmit:t[4]||(t[4]=Object(n["F"])((function(){return o.updateReview&&o.updateReview.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",Mt,[It,Object(n["E"])(Object(n["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.book=e}),placeholder:"Input name of book"},null,512),[[n["B"],c.book]])]),Object(n["g"])("div",Pt,[Object(n["g"])("label",Vt,"Author of Book "+Object(n["z"])(c.review.author),1),Object(n["E"])(Object(n["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.author=e}),placeholder:"Author"},null,512),[[n["B"],c.author]])]),Object(n["g"])("div",Nt,[Ft,Object(n["E"])(Object(n["g"])("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"5","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.review=e}),placeholder:"Insert here"},null,512),[[n["B"],c.review]])]),Object(n["g"])("div",Tt,[Lt,Object(n["E"])(Object(n["g"])("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.note=e}),placeholder:"Insert here"},null,512),[[n["B"],c.note]])]),Yt],32)])])])]),Object(n["g"])("div",Jt,[Object(n["g"])("div",Ht,[Object(n["g"])("div",qt,[Gt,Kt,Object(n["g"])("div",Qt,[Object(n["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=function(){return o.deleteReview&&o.deleteReview.apply(o,arguments)}),"data-bs-dismiss":"modal"},"Yes"),Wt])])])])]))])}var Zt={data:function(){return{id:"",book:"",author:"",review:"",note:""}},setup:function(){var e=Object(o["b"])(),t=Object(n["b"])((function(){return e.state.reviews}));return Object(n["p"])((function(){e.dispatch("see_dashboard")})),{reviews:t}},methods:{isEmpty:function(e){return 0==e.length},editForm:function(e){this.id=e.rid,this.book=e.book,this.author=e.author,this.review=e.review,this.note=e.note},updateReview:function(){var e=this;this.$store.dispatch("putReview",{rid:this.id,book:this.book,author:this.author,review:this.review,note:this.note}).then((function(){return e.$store.dispatch("see_dashboard")})).catch((function(t){console.log("Error Updating Review: ",t),e.$store.state.Errormsg=t}))},saveForDelete:function(e){this.id=e,console.log("To delete: ",this.id)},deleteReview:function(){var e=this;this.$store.dispatch("removeReview",{rid:parseInt(this.id)}).then((function(){return e.$store.dispatch("see_dashboard")})).catch((function(t){console.log("Error Deleting Review: ",t),e.$store.state.Errormsg=t}))}}};r("8c76");const er=_()(Zt,[["render",Xt]]);var tr=er,rr=r("1da1"),nr=(r("96cf"),r("0e44")),ar=(r("99af"),r("bc3a")),cr=r.n(ar),or="https://book-review-backend0.herokuapp.com";function sr(){return cr.a.get("".concat(or,"/"))}function ir(e){return cr.a.get("".concat(or,"/review/").concat(e))}function lr(e,t){return cr.a.post("".concat(or,"/add/"),e,{headers:{Authorization:"Bearer: ".concat(t)}})}function ur(e,t){return cr.a.put("".concat(or,"/update/").concat(e.rid,"/"),e,{headers:{Authorization:"Bearer: ".concat(t)}})}function br(e,t){return cr.a.delete("".concat(or,"/delete/").concat(e,"/"),{headers:{Authorization:"Bearer: ".concat(t)}})}function dr(e){return cr.a.get("".concat(or,"/dashboard/"),{headers:{Authorization:"Bearer: ".concat(e)}})}function jr(e){return cr.a.post("".concat(or,"/sign-up/"),e)}function Or(e){return cr.a.post("".concat(or,"/login/"),e)}r("ac1f"),r("1276");function gr(e){if(!e||e.split(".").length<3)return!1;var t=JSON.parse(atob(e.split(".")[1])),r=new Date(1e3*t.exp),n=new Date;return n<r}var pr={reviews:[],currentReview:[],user:"",jwt:"",Errormsg:"",Successmsg:""},mr={loadReviews:function(e){return Object(rr["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,sr();case 2:return r=t.sent,t.abrupt("return",e.commit("setReviews",{reviews:r.data}));case 4:case"end":return t.stop()}}),t)})))()},loadReview:function(e,t){return Object(rr["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.rid,r.next=3,ir(n);case 3:return a=r.sent,r.abrupt("return",e.commit("setReview",{review:a.data}));case 5:case"end":return r.stop()}}),r)})))()},putReview:function(e,t){return e.commit("setReview",{review:t}),ur(t,e.state.jwt.token)},submitNewReview:function(e,t){return Object(rr["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,lr(t,e.state.jwt.token);case 2:n="New Review Added!",e.commit("successMessage",{msg:n});case 4:case"end":return r.stop()}}),r)})))()},removeReview:function(e,t){var r=t.rid;return br(r,e.state.jwt.token)},see_dashboard:function(e){return Object(rr["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,dr(e.state.jwt.token);case 2:return r=t.sent,t.abrupt("return",e.commit("setReviews",{reviews:r.data}));case 4:case"end":return t.stop()}}),t)})))()},login:function(e,t){return Object(rr["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.commit("setUserData",{userData:t}),r.prev=1,r.next=4,Or(t);case 4:return n=r.sent,a="You are now logged in!",e.commit("successMessage",{msg:a}),r.abrupt("return",e.commit("setJwtToken",{jwt:n.data}));case 10:r.prev=10,r.t0=r["catch"](1),console.log("Error Authenticating: ",r.t0),e.commit("errorMessage",{error:r.t0});case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},signUp:function(e,t){return Object(rr["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.commit("setUserData",{userData:t}),r.next=3,jr(t);case 3:return n="Successful Registeration!",r.abrupt("return",e.commit("successMessage",{msg:n}));case 5:case"end":return r.stop()}}),r)})))()}},fr={setReviews:function(e,t){e.reviews=t.reviews},setReview:function(e,t){e.currentReview=t.review},setUserData:function(e,t){e.user=t.userData.username},setJwtToken:function(e,t){e.jwt=t.jwt},errorMessage:function(e,t){e.Errormsg=t.error},successMessage:function(e,t){e.Successmsg=t.msg}},vr={isAuthenticated:function(e){return gr(e.jwt.token)},getUser:function(e){return e.user},getCurrentReview:function(e){return e.currentReview}},hr=Object(nr["a"])({paths:["jwt","user"],storage:{getItem:function(e){return C.a.get(e)},setItem:function(e,t){return C.a.set(e,t,{secure:!0})},removeItem:function(e){return C.a.remove(e)}}}),wr=Object(o["a"])({state:pr,getters:vr,actions:mr,mutations:fr,plugins:[hr]}),yr=[{path:"/",name:"home",component:ue},{path:"/create",name:"create",component:xe,beforeEnter:function(e,t,r){wr.getters.isAuthenticated?r():r("/login")}},{path:"/login",name:"login",component:Ie},{path:"/sign-up",name:"signup",component:Xe},{path:"/review/:id",name:"Review",component:pt},{path:"/dashboard",name:"Dashboard",component:tr,beforeEnter:function(e,t,r){wr.getters.isAuthenticated?r():r({name:"login"})}}],kr="/book-review/",xr=Object(L["a"])({history:Object(L["b"])(kr),routes:yr}),Rr=xr,Cr=Object(n["c"])(T);Cr.use(Rr),Cr.use(wr),Cr.mount("#app")},"85ad":function(e,t,r){},"8c76":function(e,t,r){"use strict";r("ac5c")},ac5c:function(e,t,r){},b495:function(e,t,r){"use strict";r("85ad")},f20f:function(e,t,r){}});
//# sourceMappingURL=app.20a25293.js.map
